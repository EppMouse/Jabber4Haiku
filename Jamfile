SubDir HAIKU_TOP 3rdparty jabber4haiku ;

SetSubDirSupportedPlatformsBeOSCompatible ;

# defines
#local defines = [ FDefines HAVE_EXPAT_CONFIG_H=1 ] ;

SubDirCcFlags $(defines) ;
SubDirC++Flags $(defines) ;

#to compile add openssl includes directory.
SubDirSysHdrs [ FDirName $(HAIKU_TOP) 3rdparty jabber4haiku ] ;

# source directories
local sourceDirs =
	jabber
	shared/storage
	shared/interface
	shared/expat/xml_entity
	shared/expat/xml_reader
	shared/expat/xmlparse
	shared/expat/xmlparse
	shared/expat/xmltok
	shared/expat/xmlwf
	shared/split-pane
	shared/network
	shared/include
;

local sourceDir ;
for sourceDir in $(sourceDirs) {
	SEARCH_SOURCE += [ FDirName $(HAIKU_TOP) 3rdparty jabber4haiku $(sourceDir) ] ;
}

UseLibraryHeaders expat ;

Application JabberForHaiku :
	#jabber
	AboutWindow.cpp        
	ChatTextView.cpp          
	main.cpp                     
	RotateChatFilter.cpp
	Agent.cpp              
	ChatWidget.cpp            
	MessagesPreferencesView.cpp  
	SendTalkWindow.cpp
	AgentList.cpp          
	CommandMessage.cpp        
	ModalAlertFactory.cpp        
	SoundPreferencesView.cpp
	BetterTextView.cpp     
	CustomStatusWindow.cpp    
    SoundSystem.cpp
	BlabberApp.cpp         
	DeskbarIcon.cpp           
	OnlineStatusItem.cpp         
	TalkListItem.cpp
	BlabberMainWindow.cpp  
	EditingFilter.cpp         
	PeopleListItem.cpp           
	TalkManager.cpp
	BlabberSettings.cpp    
	GenericFunctions.cpp      
	PreferencesWindow.cpp        
	TalkWindow.cpp
	BuddyInfoWindow.cpp    
	JabberSpeak.cpp           
	RosterItem.cpp               
	TransportItem.cpp
	BuddyWindow.cpp        
	JRoster.cpp               
	RosterSuperitem.cpp          
	TransportPreferencesView.cpp
	ChangeNameWindow.cpp   
	LoginPreferencesView.cpp  
	RosterView.cpp               
	UserID.cpp
	
	#shared/storage
	AppLocation.cpp
	FileXMLReader.cpp
	
	#shared/interface
	StatusView.cpp
	MessageRepeater.cpp
	FileItem.cpp
	PictureView.cpp
	
	#shared/expat/xml_entity
	XMLEntity.cpp
	
	#shared/expat/xml_reader
	XMLReader.cpp
	
	#shared/expat/xmlparse
	xmlparse.c
	hashtable.c
	
	#shared/expat/xmltok
	xmlrole.c
	xmltok.c
	
	#shared/split-pane
	SplitPane.cpp
	
	#shared/network
	PortTalker.cpp
	KeepAlive.cpp
	JabberSSLPlug.cpp
	JabberSocketPlug.cpp	
	: be game translation tracker $(TARGET_NETAPI_LIB) $(TARGET_LIBSTDC++) ./3rdparty/jabber4haiku/libs/libssl.so ./3rdparty/jabber4haiku/libs/libcrypto.so
	: Resource.rsrc  
;
